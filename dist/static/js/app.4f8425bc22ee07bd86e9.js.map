{"version":3,"sources":["webpack:///external \"AMap\"","webpack:///./src/store/mutations.js","webpack:///./src/jsModule/getCityName.js","webpack:///./src/jsModule/isPromise.js","webpack:///./src/store/actions.js","webpack:///./src/store/movie-rating-list/actions.js","webpack:///./src/jsModule/jsonPrequest.js","webpack:///./src/store/movie-rating-list/index.js","webpack:///./src/store/index.js","webpack:///src/components/movie-list-item.vue","webpack:///./src/components/movie-list-item.vue?ae9a","webpack:///./src/components/movie-list-item.vue","webpack:///src/pages/home/movie-list.vue","webpack:///./src/pages/home/movie-list.vue?be0f","webpack:///./src/pages/home/movie-list.vue","webpack:///./src/components/fake-search.vue?27bd","webpack:///./src/components/fake-search.vue","webpack:///src/components/fake-search.vue","webpack:///src/pages/home/home.vue","webpack:///./src/pages/home/home.vue?de65","webpack:///./src/pages/home/home.vue","webpack:///src/pages/movies-explore/movies-explore.vue","webpack:///./src/pages/movies-explore/movies-explore.vue?0a30","webpack:///./src/pages/movies-explore/movies-explore.vue","webpack:///./src/pages/404/404.vue?aafd","webpack:///./src/pages/404/404.vue","webpack:///src/pages/404/404.vue","webpack:///./src/router/index.js","webpack:///src/components/nav-header.vue","webpack:///./src/components/nav-header.vue?0e61","webpack:///./src/components/nav-header.vue","webpack:///src/App.vue","webpack:///./src/App.vue?7629","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/assets/json/movie-rating-type.json"],"names":["module","exports","AMap","mutations","changeVmin","state","vmin","Math","min","window","outerHeight","outerWidth","changeCity","_ref","city","changeBackUrl","_ref2","path","backUrl","Geolocation","a","requestPromiseExist","variable","promise_default","then","getCityPromise","actions","getCityName","_this","this","commit","dispatch","refresh","arguments","length","undefined","asyncToGenerator_default","regenerator_default","mark","_callee","wrap","_context","prev","next","abrupt","resolve","reject","getCityInfo","status","result","console","log","message","sent","String","slice","stop","type","obj","isRequesting","movie_rating_type_default","create_default","forEach","item","movie_rating_list_actions","getRatingList","rootState","_ref$refresh","params","objectWithoutProperties_default","_ref3","_ref3$body","count","resNum","subjects","t0","t1","extends_default","root","t2","t3","t4","doubanRequest","options","start","vue_esm","http","jsonp","data","error","body","isEnd","namespaced","makeListState","setRatingList","_state$type","push","apply","toConsumableArray_default","use","vuex_esm","store","Store","strict","modules","movieRatingList","movie_rating_list","movie_list_item","name","props","required","Object","index","Number","updated","default","Boolean","to","isSlide","methods","getStarPosition","round","rating","average","components","swiperSlide","vue_awesome_swiper","watch","components_movie_list_item","render","_vm","_h","$createElement","_c","_self","tag","staticClass","attrs","directives","rawName","value","images","expression","key","ref","alt","_v","_s","title","class","none","style","background-position-y","toFixed","staticRenderFns","src_components_movie_list_item","__webpack_require__","normalizeComponent","ssrContext","movie_list","swiperOption","slidesPerView","touchMoveStopPropagation","freeMode","mousewheel","pagination","el","clickable","computed","list","swiper","movieListItem","getList","refreshFade","$nextTick","created","from","_this2","home_movie_list","_t","on","click","$event","$store","_l","is-slide","pages_home_movie_list","movie_list_normalizeComponent","components_fake_search","mode","src_components_fake_search","fake_search_normalizeComponent","show","$route","home","movieList","fakeSearch","mounted","home_home","slot","pages_home_home","home_normalizeComponent","firstLoad","ctx","propsObj","$data","assign_default","changeDataOnReuse","len","beforeRouteEnter","vm","beforeRouteUpdate","movies_explore_movies_explore","gutter","xs","sm","md","pages_movies_explore_movies_explore","movies_explore_normalizeComponent","movies_explore","_04_404","pages_404_404","_04_normalizeComponent","vue_router_esm","router","routes","component","meta","toHome","join","route","scrollBehavior","savedPosition","setTimeout","x","y","base","location","pathname","find","includes","beforeEach","src_router","isFixed","searchFade","IntersectionObserver","entries","observer","ratio","intersectionRatio","threshold","observe","$refs","navigator","back","$router","go","beforeCreate","sticky","vue_sticky_default","components_nav_header","zIndex","stickyTop","disabled","fixed","src_components_nav_header","nav_header_normalizeComponent","nav_header","getVmin","lodash_default","debounce","App","addEventListener","navHeader","selectortype_template_index_0_src_App","id","direction","src_App","App_normalizeComponent","vue_resource_esm","vue_lazyload_default","preLoad","attempt","element_ui_common_default","vuetify_default","config","productionTip"],"mappings":"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","file":"static/js/app.4f8425bc22ee07bd86e9.js","sourcesContent":["module.exports = AMap;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"AMap\"\n// module id = +aT9\n// module chunks = 1","export default {\r\n  changeVmin (state) {\r\n    state.vmin = Math.min(window.outerHeight, window.outerWidth) / 100\r\n  },\r\n  changeCity (state, {city}) {\r\n    state.city = city\r\n  },\r\n  changeBackUrl (state, {path}) {\r\n    state.backUrl = path\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","import AMap from 'AMap'\r\n\r\nconst Geolocation = new AMap.Geolocation({})\r\n\r\nexport default function () {\r\n  return new Promise((resolve, reject) => {\r\n    Geolocation.getCityInfo((status, result) => {\r\n      console.log(result)\r\n      status === 'complete' && resolve(result.city)\r\n      status === 'error' && reject(result.message)\r\n    })\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/jsModule/getCityName.js","export default function requestPromiseExist (variable) {\r\n  return variable && (variable instanceof Promise || typeof variable.then === 'function')\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/jsModule/isPromise.js","import getCityInfo from '../jsModule/getCityName'\r\nimport isPromise from '../jsModule/isPromise'\r\n\r\nlet getCityPromise = null\r\n\r\nexport default {\r\n  async getCityName ({commit, dispatch, state}, refresh = false) {\r\n    if (state.city !== undefined && !refresh) return Promise.resolve({city: state.city})\r\n    if (!isPromise(getCityPromise)) getCityPromise = getCityInfo()\r\n    const city = await getCityPromise\r\n    commit('changeCity', { city: String(city).slice(-1) === '市' ? city.slice(0, -1) : city })\r\n    getCityPromise = null\r\n    return city\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import {doubanRequest} from '../../jsModule/jsonPrequest'\r\nimport isPromise from '../../jsModule/isPromise'\r\nimport type from '../../assets/json/movie-rating-type'\r\n\r\nconst makeIsRequesting = (type) => {\r\n  const obj = Object.create(null)\r\n  type.forEach(item => {\r\n    obj[item] = null\r\n  })\r\n  return obj\r\n}\r\n\r\nconst isRequesting = makeIsRequesting(type)\r\n\r\nexport default {\r\n  // 获取电影排行榜列表\r\n  async getRatingList ({commit, rootState, state, dispatch}, {type, refresh = false, ...params}) {\r\n    const beforeCount = state[type].length;\r\n    (isPromise(isRequesting[type]) && !refresh) || await isRequesting[type]\r\n    if (type === 'in_theaters' || 'coming_soon') {\r\n      params = {\r\n        city: await dispatch('getCityName', null, {root: true}),\r\n        ...params\r\n      }\r\n    }\r\n    isRequesting[type] = doubanRequest(`/movie/${type}`, {\r\n      params: {\r\n        ...params,\r\n        start: refresh ? 0 : state[type].length,\r\n        count: params.count || 10\r\n      }\r\n    })\r\n    const {body: {count, subjects: {length: resNum}, subjects: subjects}} = await isRequesting[type]\r\n    isRequesting[type] = null\r\n    commit('setRatingList', {type, refresh, data: subjects})\r\n    return {\r\n      isEnd: resNum < count\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/movie-rating-list/actions.js","import Vue from 'vue'\r\n\r\nexport function doubanRequest (path, options) {\r\n  return Vue.http.jsonp(`https://api.douban.com/v2${path}`, options)\r\n    .then((data) => {\r\n      return data\r\n    }, (error) => {\r\n      console.log(error)\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/jsModule/jsonPrequest.js","import actions from './actions'\r\nimport type from '../../assets/json/movie-rating-type'\r\nimport Vue from 'vue'\r\n\r\nconst makeListState = (type) => {\r\n  const obj = {}\r\n  type.forEach(item => {\r\n    obj[item] = []\r\n  })\r\n  return obj\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state: {\r\n    ...makeListState(type)\r\n  },\r\n\r\n  mutations: {\r\n    setRatingList (state, {type, data, refresh}) {\r\n      refresh ? state[type] = data\r\n        : state[type].push(...data)\r\n    }\r\n  },\r\n  actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/movie-rating-list/index.js","import vuex from 'vuex'\r\nimport Vue from 'vue'\r\n\r\n// APP mutations and actions\r\nimport mutations from './mutations'\r\nimport actions from './actions'\r\n\r\n// module\r\nimport movieRatingList from './movie-rating-list'\r\n\r\nVue.use(vuex)\r\n\r\nexport default new vuex.Store({\r\n  strict: process.env.NODE_ENV !== 'production',\r\n  state: {\r\n    vmin: 0,\r\n    city: undefined,\r\n    backUrl: ''\r\n  },\r\n  mutations,\r\n  actions,\r\n  modules: {\r\n    movieRatingList\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\r\n    <component :is=\"isSlide?'swiper-slide':'div'\"\r\n               class=\"movie-item\"\r\n    >\r\n        <router-link\r\n                :to=\"to\"\r\n        >\r\n            <div class=\"img-wp\">\r\n                <img\r\n                        ref=\"img\"\r\n                        v-lazy=\"item.images.small\"\r\n                        alt=\"\"\r\n                        :key=\"updated\"\r\n                >\r\n            </div>\r\n\r\n            <div class=\"info\">\r\n                <p>{{ item.title }}</p>\r\n                <p\r\n                        :class=\"['rating',{'none': !item.rating.average}]\"\r\n                >\r\n                    <span\r\n                            class=\"rating-star\"\r\n                            v-show=\"item.rating.average\"\r\n                            :style=\"{'background-position-y': `${getStarPosition(item)}rem` }\"\r\n                    >\r\n                    </span>\r\n                    <span>{{ item.rating.average ? item.rating.average.toFixed(1) : '暂无评分' }}</span>\r\n                </p>\r\n            </div>\r\n        </router-link>\r\n    </component>\r\n</template>\r\n\r\n<script>\r\nimport {swiperSlide} from 'vue-awesome-swiper'\r\n\r\nexport default {\r\n  name: 'movie-item',\r\n  props: {\r\n    item: {\r\n      required: true,\r\n      type: Object\r\n    },\r\n    index: {\r\n      required: true,\r\n      type: Number\r\n    },\r\n    updated: {\r\n      default: false,\r\n      type: Boolean\r\n    },\r\n    to: {\r\n      default: '',\r\n      type: String\r\n    },\r\n    isSlide: {\r\n      default: false,\r\n      type: Boolean\r\n    }\r\n  },\r\n  methods: {\r\n    getStarPosition (item) {\r\n      return Math.round(item.rating.average) - 10\r\n    }\r\n  },\r\n  components: {\r\n    swiperSlide\r\n  },\r\n  watch: {}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .movie-item {\r\n        display: block;\r\n        width: 100%;\r\n        a {\r\n            display: inline-block;\r\n            color: #333;\r\n            text-decoration: none;\r\n            width: 100%;\r\n            .img-wp {\r\n                position: relative;\r\n                overflow: hidden;\r\n                &::before {\r\n                    content: '';\r\n                    display: block;\r\n                    padding-top: 143%;\r\n                }\r\n                img {\r\n                    display: block;\r\n                    width: 100%;\r\n                    min-height: 100%;\r\n                    position: absolute;\r\n                    top: -100%;\r\n                    left: -100%;\r\n                    right: -100%;\r\n                    bottom: -100%;\r\n                    margin: auto;\r\n                    filter: opacity(0);\r\n                    transition: filter 0.5s ease-in-out;\r\n                    &[lazy=loaded] {\r\n                        filter: opacity(100%);\r\n                    }\r\n                    &.update {\r\n                        filter: opacity(0);\r\n                    }\r\n                }\r\n            }\r\n            .info {\r\n                height: 42px;\r\n                p {\r\n                    padding-top: 2px;\r\n                    font-size: 1.2em;\r\n                    overflow: hidden;\r\n                    text-overflow: ellipsis;\r\n                    white-space: nowrap;\r\n                    text-align: left;\r\n                    span {\r\n                        vertical-align: middle;\r\n                    }\r\n                    .rating-star {\r\n                        display: inline-block;\r\n                        width: 5rem;\r\n                        height: 1rem;\r\n                        background: {\r\n                            image: url(\"../assets/sprite/sprite-raing.png\");\r\n                            repeat: no-repeat;\r\n                            size: cover;\r\n                        }\r\n                    }\r\n                    &.rating {\r\n                        font-weight: normal;\r\n                        font-size: 1em;\r\n                        color: gray;\r\n                        text-align: left;\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/movie-list-item.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.isSlide?'swiper-slide':'div',{tag:\"component\",staticClass:\"movie-item\"},[_c('router-link',{attrs:{\"to\":_vm.to}},[_c('div',{staticClass:\"img-wp\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.item.images.small),expression:\"item.images.small\"}],key:_vm.updated,ref:\"img\",attrs:{\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('p',[_vm._v(_vm._s(_vm.item.title))]),_vm._v(\" \"),_c('p',{class:['rating',{'none': !_vm.item.rating.average}]},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.item.rating.average),expression:\"item.rating.average\"}],staticClass:\"rating-star\",style:({'background-position-y': ((_vm.getStarPosition(_vm.item)) + \"rem\") })}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.item.rating.average ? _vm.item.rating.average.toFixed(1) : '暂无评分'))])])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32bad845\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/movie-list-item.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32bad845\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./movie-list-item.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./movie-list-item.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./movie-list-item.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32bad845\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./movie-list-item.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-32bad845\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/movie-list-item.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"home-movie-list-pane\">\r\n        <p class=\"list-title\">\r\n            <span><slot name=\"title\"></slot></span>\r\n            <button @click=\"$store.commit('changeCity',{city:'怀化'})\">change city</button>\r\n            <router-link\r\n                    class=\"more\"\r\n                    :to=\"{name : 'movies-explore' , params : {type}}\"\r\n            >\r\n                更多\r\n            </router-link>\r\n        </p>\r\n        <swiper\r\n                :options=\"swiperOption\"\r\n                class=\"movie-list\"\r\n        >\r\n            <movie-list-item\r\n                    class=\"horizontal\"\r\n                    v-for=\"(item,index) in list\"\r\n                    :item=\"item\"\r\n                    :index=\"index\"\r\n                    :key=\"item.title\"\r\n                    :updated=\"updated\"\r\n                    :to=\"`/movie-detail/${ index }`\"\r\n                    :is-slide=\"true\"\r\n            />\r\n        </swiper>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {swiper} from 'vue-awesome-swiper'\r\nimport movieListItem from '../../components/movie-list-item'\r\nimport {mapState, mapActions} from 'vuex'\r\nimport 'swiper/dist/css/swiper.css'\r\n\r\nexport default {\r\n  name: 'home-movie-list',\r\n  props: {\r\n    type: {\r\n      required: true,\r\n      type: String\r\n    }\r\n  },\r\n  data: function () {\r\n    return {\r\n      updated: true,\r\n      swiperOption: {\r\n        slidesPerView: 'auto',\r\n        touchMoveStopPropagation: true,\r\n        freeMode: true,\r\n        mousewheel: true,\r\n        pagination: {\r\n          el: '.swiper-pagination',\r\n          clickable: true\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('movieRatingList', {\r\n      list: function (state) {\r\n        return state[this.type].slice(0, 10)\r\n      }\r\n    }),\r\n    ...mapState({city: 'city'})\r\n  },\r\n  components: {\r\n    swiper,\r\n    movieListItem\r\n  },\r\n  methods: {\r\n    ...mapActions('movieRatingList', ['getRatingList']),\r\n    getList (params) {\r\n      return this.getRatingList({type: this.type, ...params})\r\n    },\r\n    refreshFade () {\r\n      this.updated = false\r\n      this.$nextTick(() => {\r\n        this.updated = true\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getList()\r\n    console.log(this)\r\n  },\r\n  watch: {\r\n    async city (to, from) {\r\n      if (this.type === 'in_theaters' && from !== undefined) {\r\n        console.log(to, from)\r\n        await this.getList({refresh: true})\r\n        this.refreshFade()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .home-movie-list-pane {\r\n        color: #333;\r\n        padding: 7px 0;\r\n        border-top: 1px solid gainsboro;\r\n        .list-title {\r\n            .more {\r\n                margin-left: auto;\r\n                color: #2aac5e;\r\n                text-decoration: none;\r\n            }\r\n            display: flex;\r\n            position: relative;\r\n            padding-left: 10px;\r\n            margin: 0 7px 7px 0;\r\n            &::before {\r\n                position: absolute;\r\n                display: block;\r\n                left: 0;\r\n                content: \"\";\r\n                width: 6.67px;\r\n                height: 100%;\r\n                background-color: #2aac5e;\r\n            }\r\n        }\r\n\r\n        .movie-list {\r\n            $width: 100px;\r\n            height: $width*1.43 + 42px;\r\n            .horizontal {\r\n                width: $width;\r\n                margin-right: 2vmin;\r\n                &:first-child {\r\n                    margin-left: 2vmin;\r\n                }\r\n            }\r\n            .vertical {\r\n            }\r\n        }\r\n\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/home/movie-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-movie-list-pane\"},[_c('p',{staticClass:\"list-title\"},[_c('span',[_vm._t(\"title\")],2),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.$store.commit('changeCity',{city:'怀化'})}}},[_vm._v(\"change city\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"more\",attrs:{\"to\":{name : 'movies-explore' , params : {type: _vm.type}}}},[_vm._v(\"\\n            更多\\n        \")])],1),_vm._v(\" \"),_c('swiper',{staticClass:\"movie-list\",attrs:{\"options\":_vm.swiperOption}},_vm._l((_vm.list),function(item,index){return _c('movie-list-item',{key:item.title,staticClass:\"horizontal\",attrs:{\"item\":item,\"index\":index,\"updated\":_vm.updated,\"to\":(\"/movie-detail/\" + index),\"is-slide\":true}})}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-60267bdc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/movie-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-60267bdc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./movie-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./movie-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./movie-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60267bdc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./movie-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-60267bdc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/movie-list.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"fake-search-wrapper\"},[_c('div',{staticClass:\"fake-search\"},[_c('span',[_vm._v(\"搜索电影\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-050d64b2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/fake-search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-050d64b2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./fake-search.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./fake-search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./fake-search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-050d64b2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./fake-search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-050d64b2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/fake-search.vue\n// module id = null\n// module chunks = ","<template>\r\n    <transition name=\"fade\" mode=\"out-in\">\r\n        <div v-show=\"show\" class=\"fake-search-wrapper\">\r\n            <div class=\"fake-search\">\r\n                <span>搜索电影</span>\r\n            </div>\r\n        </div>\r\n    </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'fake-search',\r\n  data () {\r\n    return {\r\n      show: true\r\n    }\r\n  },\r\n  watch: {\r\n    $route (to, from) {\r\n      this.show = to.name === 'home' || to.name === 'search' || to.name === 'movies-explore'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .fade-enter-active {\r\n        position: absolute;\r\n        width: 100%;\r\n        transition: opacity 0.2s  ease-in-out;\r\n    }\r\n    .fake-search-wrapper {\r\n        box-sizing: border-box;\r\n        /*background-color: #2aac5e;*/\r\n        padding: 0.5em 4%;\r\n        /*padding-top: 0;*/\r\n        height: 3em;\r\n        color: #a9a9a9;\r\n        .fake-search {\r\n            text-align: center;\r\n            line-height: 2em;\r\n            background-color: #dedede;\r\n            border-radius: 1em;\r\n            height: 100%;\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/fake-search.vue","<template>\r\n    <div>\r\n        <div class=\"movie-list-pane-wrapper\">\r\n            <div>\r\n                <movie-list type=\"in_theaters\">\r\n                    <template slot=\"title\">正在热映</template>\r\n                </movie-list>\r\n                <movie-list type=\"coming_soon\">\r\n                    <template slot=\"title\">即将上映</template>\r\n                </movie-list>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport movieList from './movie-list'\r\nimport fakeSearch from '../../components/fake-search'\r\n\r\nexport default {\r\n  name: 'home',\r\n  components: {\r\n    movieList,\r\n    fakeSearch\r\n  },\r\n  mounted () {\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/home/home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"movie-list-pane-wrapper\"},[_c('div',[_c('movie-list',{attrs:{\"type\":\"in_theaters\"}},[_c('template',{slot:\"title\"},[_vm._v(\"正在热映\")])],2),_vm._v(\" \"),_c('movie-list',{attrs:{\"type\":\"coming_soon\"}},[_c('template',{slot:\"title\"},[_vm._v(\"即将上映\")])],2)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-61642acc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61642acc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./home.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-61642acc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-61642acc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/home.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"wrapper\">\r\n        <div class=\"movies-explore-wrapper\">\r\n            <!--<ul class=\"movie-list\">-->\r\n            <!--<movie-list-item-->\r\n            <!--class=\"movie-item\"-->\r\n            <!--v-for=\"(item,index) in list\"-->\r\n            <!--:key=\"item.title\"-->\r\n            <!--:item=\"item\"-->\r\n            <!--:index=\"index\"-->\r\n            <!--:to=\"`/movie-detail/${ index }`\"-->\r\n            <!--&gt;-->\r\n            <!--</movie-list-item>-->\r\n            <!--</ul>-->\r\n            <el-row\r\n                    class=\"movie-list\"\r\n                    :gutter=\"25\"\r\n                    tag=\"ul\"\r\n            >\r\n                <el-col\r\n                        class=\"movie-item\"\r\n                        v-for=\"(item,index) in list\"\r\n                        :key=\"item.title\"\r\n                        :xs=\"8\"\r\n                        :sm=\"6\"\r\n                        :md=\"4\"\r\n                        tag=\"li\"\r\n                >\r\n                    <movie-list-item\r\n                            :item=\"item\"\r\n                            :index=\"index\"\r\n                            :to=\"`/movie-detail/${ index }`\"\r\n                    />\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport fakeSearch from '../../components/fake-search'\r\nimport movieListItem from '../../components/movie-list-item'\r\nimport {mapState, mapActions} from 'vuex'\r\n\r\nfunction changeDataOnReuse (ctx, propsObj) {\r\n  console.log(ctx.$data, propsObj)\r\n  Object.assign(ctx.$data, propsObj)\r\n}\r\n\r\nfunction firstLoad (ctx, {...propsObj}) {\r\n  changeDataOnReuse(ctx, propsObj)\r\n  const len = ctx.list.length\r\n  len < 20 && ctx.getList({count: 20 - len})\r\n}\r\n\r\nexport default {\r\n  props: {},\r\n  name: 'movies-explore',\r\n  components: {\r\n    fakeSearch,\r\n    movieListItem\r\n  },\r\n  data () {\r\n    return {\r\n      updated: false,\r\n      type: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(`movieRatingList`, {\r\n      list: function (state) {\r\n        return state[this.type]\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapActions('movieRatingList', ['getRatingList']),\r\n    getList (params) {\r\n      return this.getRatingList({type: this.type, ...params})\r\n    }\r\n  },\r\n  beforeRouteEnter (to, from, next) {\r\n    next(vm => {\r\n      firstLoad(vm, {type: to.params.type})\r\n    })\r\n  },\r\n  beforeRouteUpdate (to, from, next) {\r\n    firstLoad(this, {type: to.params.type})\r\n    next()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .wrapper {\r\n        padding: 0 4%;\r\n        .movies-explore-wrapper {\r\n            height: 100%;\r\n            overflow: hidden;\r\n            .movie-list {\r\n                list-style: none;\r\n                .movie-item {\r\n                    /*display: inline-block;*/\r\n                    /*width: 33.33%;*/\r\n                    /*box-sizing: border-box;*/\r\n                    /*padding-left: 4%;*/\r\n                    /*padding-right: 4%;*/\r\n                    /*margin-top: 2%;*/\r\n                    /*@media screen and (min-width: 600px) {*/\r\n                    /*width: 25%;*/\r\n                    /*}*/\r\n                    &.el-col-xs-8 {\r\n                        @media only screen and (max-width: 600px) {\r\n                            width: 33.33333%;\r\n                        }\r\n                    }\r\n                    &.el-col-sm-6 {\r\n                        @media only screen and (min-width: 600px) and (max-width: 768px) {\r\n                            width: 25%;\r\n                        }\r\n                    }\r\n                    &:last-child {\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/movies-explore/movies-explore.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"movies-explore-wrapper\"},[_c('el-row',{staticClass:\"movie-list\",attrs:{\"gutter\":25,\"tag\":\"ul\"}},_vm._l((_vm.list),function(item,index){return _c('el-col',{key:item.title,staticClass:\"movie-item\",attrs:{\"xs\":8,\"sm\":6,\"md\":4,\"tag\":\"li\"}},[_c('movie-list-item',{attrs:{\"item\":item,\"index\":index,\"to\":(\"/movie-detail/\" + index)}})],1)}))],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0070a0c2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/movies-explore/movies-explore.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0070a0c2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./movies-explore.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./movies-explore.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./movies-explore.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0070a0c2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./movies-explore.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0070a0c2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/movies-explore/movies-explore.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"not-found\"},[_c('p',{staticClass:\"notice-chinese\"},[_vm._v(\"没有找到这个东西\")]),_vm._v(\" \"),_c('p',[_vm._v(\"o(╥﹏╥)o\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"el-button--success\",attrs:{\"to\":{name:'home'},\"tag\":\"el-button\"}},[_vm._v(\"点击这里返回首页\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-99372980\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/404/404.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-99372980\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./404.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./404.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./404.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-99372980\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./404.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-99372980\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/404/404.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"not-found\">\r\n        <p class=\"notice-chinese\">没有找到这个东西</p>\r\n        <p>o(╥﹏╥)o</p>\r\n        <router-link :to=\"{name:'home'}\" tag=\"el-button\" class=\"el-button--success\">点击这里返回首页</router-link>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'not-found'\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .not-found {\r\n        margin-top: 150px;\r\n        text-align: center;\r\n        width: 100%;\r\n        color: #b2b2b2;\r\n        p {\r\n            line-height: 2em;\r\n            font-size: 1.5em;\r\n            &.notice-chinese {\r\n            }\r\n        }\r\n        .el-button.el-button--success {\r\n            margin-top: 10px;\r\n            color: white;\r\n            background-color: #2aac5e;\r\n            &:hover {\r\n                background-color: #1fc375;\r\n            }\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/404/404.vue","import Vue from 'vue'\nimport Router from 'vue-router'\nimport store from '../store'\nimport home from '../pages/home/home'\nimport allMovieList from '../pages/movies-explore/movies-explore.vue'\nimport notFound from '../pages/404/404.vue'\nimport movieRatingType from '../assets/json/movie-rating-type'\n\nVue.use(Router)\n\nfunction getAbsolutePath () {\n  const matchString = ['/vue-douban/', '/vue-douban/dist/', '/douban/dist/']\n  let path = location.pathname\n  return matchString.find((item) => path.includes(item)) || '/'\n}\n\nconst router = new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'home',\n      component: home,\n      meta: {\n        toHome: false\n      }\n    },\n    {\n      path: `/explore/:type(${movieRatingType.join('|')})`,\n      name: 'movies-explore',\n      component: allMovieList,\n      props: (route) => ({\n        type: route.params.type\n      })\n    },\n    {\n      name: 'not-found',\n      path: '*',\n      component: notFound\n    }\n  ],\n  scrollBehavior (to, from, savedPosition) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        console.log(savedPosition)\n        resolve(savedPosition || {x: 0, y: 0})\n      }, 400)\n    })\n  },\n  mode: 'hash',\n  base: getAbsolutePath()\n})\n\nrouter.beforeEach((to, from, next) => {\n  const {name, path} = from\n  store.commit('changeBackUrl', {path: !name || path === '/' ? '/' : ''})\n  next()\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","<template>\r\n    <header\r\n            class=\"navigator\"\r\n            ref=\"navigator\"\r\n            :class=\"{fixed:isFixed}\"\r\n            v-sticky=\"{zIndex:999,stickyTop:0,disabled:false}\"\r\n    >\r\n        <div class=\"sticky-wrapper\">\r\n            <a\r\n                    v-if=\"$route.name !== 'home'\"\r\n                    @click=\"back\"\r\n            >\r\n                {{$route.name !== 'home'?'返回':''}}\r\n            </a>\r\n            <span v-else></span>\r\n            <h1 class=\"title\">\r\n                豆瓣电影\r\n            </h1>\r\n            <a></a>\r\n        </div>\r\n    </header>\r\n</template>\r\n\r\n<script>\r\nimport fakeSearch from './fake-search'\r\nimport vueSticky from 'vue-sticky'\r\nimport {mapState} from 'vuex'\r\n\r\nexport default {\r\n  name: 'nav-header',\r\n  data () {\r\n    return {\r\n      isFixed: false\r\n    }\r\n  },\r\n  components: {\r\n    fakeSearch\r\n  },\r\n  computed: {\r\n    ...mapState(['backUrl'])\r\n  }\r\n  ,\r\n  methods: {\r\n    searchFade () {\r\n      if (window.IntersectionObserver) {\r\n        console.log(IntersectionObserver)\r\n        new IntersectionObserver((entries, observer) => {\r\n          const ratio = entries[0].intersectionRatio\r\n          this.isFixed = ratio < 36 / 66\r\n        }, {threshold: 36 / 66}).observe(this.$refs.navigator)\r\n      }\r\n    },\r\n    back () {\r\n      this.backUrl ? this.$router.push({path: this.backUrl}) : this.$router.go(-1)\r\n    }\r\n  },\r\n  beforeCreate () {\r\n\r\n  },\r\n  mounted () {\r\n    // this.searchFade()\r\n  },\r\n  directives: {\r\n    sticky: vueSticky\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .navigator {\r\n        /*position: sticky;*/\r\n        color: white;\r\n        .sticky-wrapper {\r\n            display: flex;\r\n            background-color: #2aac5e;\r\n            padding: 0 1rem;\r\n            height: 3rem;\r\n            line-height: 3rem;\r\n            text-align: center;\r\n            box-sizing: border-box;\r\n            z-index: 1000;\r\n            a, span {\r\n                flex: 1;\r\n                font-size: 1.2em;\r\n                font-weight: bold;\r\n                cursor: pointer;\r\n            }\r\n            &.fixed {\r\n                position: fixed;\r\n                top: 0;\r\n                left: 0;\r\n                width: 100%;\r\n                z-index: 10000;\r\n            }\r\n            .title {\r\n                flex: 3;\r\n                font-size: 1.5em;\r\n                font-weight: bold;\r\n                transition: all 0.2s ease-in-out;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/nav-header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{directives:[{name:\"sticky\",rawName:\"v-sticky\",value:({zIndex:999,stickyTop:0,disabled:false}),expression:\"{zIndex:999,stickyTop:0,disabled:false}\"}],ref:\"navigator\",staticClass:\"navigator\",class:{fixed:_vm.isFixed}},[_c('div',{staticClass:\"sticky-wrapper\"},[(_vm.$route.name !== 'home')?_c('a',{on:{\"click\":_vm.back}},[_vm._v(\"\\n            \"+_vm._s(_vm.$route.name !== 'home'?'返回':'')+\"\\n        \")]):_c('span'),_vm._v(\" \"),_c('h1',{staticClass:\"title\"},[_vm._v(\"\\n            豆瓣电影\\n        \")]),_vm._v(\" \"),_c('a')])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a99933ee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/nav-header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a99933ee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./nav-header.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./nav-header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./nav-header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a99933ee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./nav-header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a99933ee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/nav-header.vue\n// module id = null\n// module chunks = ","<template>\n    <el-container id=\"app\" direction=\"vertical\">\n        <nav-header/>\n        <el-main>\n            <fake-search></fake-search>\n            <transition name=\"fade\" mode=\"out-in\">\n                <keep-alive>\n                    <router-view class=\"main-panel\"/>\n                </keep-alive>\n            </transition>\n        </el-main>\n    </el-container>\n</template>\n\n<script>\nimport navHeader from './components/nav-header'\nimport fakeSearch from './components/fake-search'\nimport _ from 'lodash'\nimport {mapMutations, mapActions} from 'vuex'\n\nconst {changeVmin} = mapMutations(['changeVmin'])\nconst getVmin = _.debounce(changeVmin, 250)\n\nexport default {\n  name: 'App',\n  created () {\n    this.changeVmin()\n  },\n  mounted () {\n    window.addEventListener('resize', this.getVmin)\n  },\n  methods: {\n    ...mapActions(['getCityName']),\n    changeVmin,\n    getVmin\n  },\n  components:\n    {\n      navHeader,\n      fakeSearch\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    .el-main {\n        position: relative;\n        margin: auto;\n        max-width: 992px;\n        width: 100%;\n        padding: 0;\n        .main-panel {\n            /*padding-top: 5.5em;*/\n        }\n    }\n\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{attrs:{\"id\":\"app\",\"direction\":\"vertical\"}},[_c('nav-header'),_vm._v(\" \"),_c('el-main',[_c('fake-search'),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('keep-alive',[_c('router-view',{staticClass:\"main-panel\"})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-096c5abe\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-096c5abe\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-096c5abe\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-096c5abe\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport './assets/scss/common.scss'\n\nimport 'intersection-observer'\nimport 'es6-promise/auto'\n\nimport Vue from 'vue'\nimport store from './store/index'\nimport router from './router'\n\nimport vueResource from 'vue-resource'\nimport lazyLoad from 'vue-lazyload/vue-lazyload'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport Vuetify from 'vuetify'\n\nimport App from './App'\n\nVue.use(vueResource)\nVue.use(lazyLoad, {\n  preLoad: 1.5,\n  attempt: 5\n  // lazyComponent:true\n})\nVue.use(ElementUI)\nVue.use(Vuetify)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: {App}\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = [\"in_theaters\",\"coming_soon\"]\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/json/movie-rating-type.json\n// module id = YJeR\n// module chunks = 1"],"sourceRoot":""}